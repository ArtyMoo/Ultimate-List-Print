#include <stdio.h>
#include <stdlib.h>

typedef struct Node
{
    int info;
    struct Node *next;

} t_node;

void list_print(t_node *list)
{
    t_node *head = list;
    
    while (list != NULL)
    {
        if(list == head)
            printf("\n");
        
        printf(" _________________________\n");
        printf("| Address: %p |\n", list);

        if(list->info < 10)
            printf("| Info: %d                 |\n", list->info);
        else if(list->info < 100)
            printf("| Info: %d                |\n", list->info);
        else if(list->info < 1000)
            printf("| Info: %d               |\n", list->info);
        else 
            printf("| Info: %d              |\n", list->info);

        if(list->next != NULL)
            printf("| Next: %p    |\n", list->next);
        else
            printf("| Next: NULL              |\n");

        printf(" _________________________\n\n");
        printf("            |\n");
        printf("            |\n");
        printf("            V\n");

        list = list->next;
    }

    printf("\n           NULL\n\n"); 
}

int main()
{
    /*
    Dichiarazione e inizializzazione dei nodi, 
    l adesso rappresenta l'ultimo elemento (NULL)*/
    t_node *l = NULL;
    t_node *new = NULL;
    int n;

    scanf("%d", &n);

    while(n >= 0)
    {
        //Allocazione e creazione del nuovo nodo
        new = malloc(sizeof(t_node));
        new->info = n;
        new->next = l;

        //l adesso rappresenta la testa della lista 
        l = new;
        scanf("%d", &n);
    }

    //Stampa la lista
    list_print(l);

    return 0;
}
